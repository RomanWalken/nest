# Платформа онлайн-курсов

Платформа для создания и управления онлайн-курсами, разработанная на базе NestJS и MongoDB.

## Технологии

- **Backend**: NestJS
- **База данных**: MongoDB
- **Хранилище видео**: bunny.net
- **Хранилище файлов**: uploadthings
- **Email**: Sendpulse
- **Оплата**: wayforpay, Stripe
- **Авторизация**: JWT, Local, Google, Facebook

## Основные возможности

- Создание и управление компаниями
- Система ролей пользователей (student, moderator, admin, superadmin)
- Создание курсов различных типов (fitness, video, cooking, custom)
- Модульная структура курсов
- Система тарифов с ограничением по времени
- Отслеживание прогресса пользователей
- Система покупок и оплаты
- Специальные сущности для фитнес-курсов (meals)

## Установка и запуск

### Требования

- Node.js 18+
- MongoDB 5+
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Настройка окружения

Скопируйте файл `env.example` в `.env` и настройте переменные окружения:

```bash
cp env.example .env
```

### Запуск в режиме разработки

```bash
npm run start:dev
```

### Сборка и запуск в продакшене

```bash
npm run build
npm run start:prod
```

## API документация

После запуска приложения API документация доступна по адресу: `http://localhost:3000/api`

## Структура проекта

```
src/
├── common/           # Общие типы и утилиты
├── config/           # Конфигурация
├── database/         # Настройки базы данных
├── modules/          # Модули приложения
│   ├── auth/        # Аутентификация
│   ├── companies/   # Управление компаниями
│   ├── users/       # Управление пользователями
│   ├── courses/     # Управление курсами
│   ├── modules/     # Модули курсов
│   ├── lessons/     # Уроки
│   ├── tariffs/     # Тарифы
│   ├── meals/       # Приемы пищи (фитнес)
│   ├── progress/    # Прогресс пользователей
│   └── purchases/   # Покупки
└── shared/          # Общие компоненты
```

## Основные сущности

### Company
- Информация о компании
- Настройки платформы
- Домен и slug

### User
- Пользователи системы
- Роли и права доступа
- Привязка к компании

### Course
- Курсы различных типов
- Модульная структура
- Настройки публикации

### Tariff
- Тарифы для курсов
- Цена и длительность доступа
- Связь с уроками

### UserProgress
- Прогресс по курсам
- Завершенные уроки
- Процент прохождения

## Лицензия

ISC 